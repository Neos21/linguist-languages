<div class="app-component">

<header>Linguist Languages</header>

<main>
  <div class="loading" *ngIf="isLoading">Loading...</div>
  <ng-container *ngIf="!isLoading">
    <div class="info" *ngIf="languages == null || languages.length === 0">表示できるものはありません。</div>
    
    <ul>
      <li>言語総数 : {{ countAllLanguages }} (うちグループ子要素除外 : {{ countGroupLanguages }})</li>
      <li>習得済言語数 : {{ countLearnedLanguages }} (うち独自言語数 : {{ countOriginalLanguages }})</li>
    </ul>
    
    <ol *ngIf="languages != null && languages.length > 0">
      <li *ngFor="let language of languages">
        <span class="language-icon" [ngStyle]="{ 'background': language.colour ?? 'transparent' }"></span>
        <span class="language-name">
          <ng-container *ngIf="language.url != null; else notYet">
            <a [href]="language.url" target="_blank">{{ language.name }}</a>
          </ng-container>
          <ng-template #notYet>
            <span>{{ language.name }}</span>
          </ng-template>
        </span>
        <span *ngIf="language.isOriginal">&nbsp;(Original)</span>
        <ng-container *ngIf="language.originalExtends != null">
          <span>&nbsp;:</span>
          <span *ngFor="let extendsLanguage of language.originalExtends">&nbsp;<a [href]="extendsLanguage.url" target="_blank">{{ extendsLanguage.name }}</a></span>
        </ng-container>
        
        <ol *ngIf="language.groupLanguages != null">
          <li *ngFor="let groupLanguage of language.groupLanguages">
            <span class="language-icon" [ngStyle]="{ 'background': groupLanguage.colour }"></span>
            <span class="language-name">
              <ng-template *ngIf="groupLanguage.url != null; else notYet">
                <a [href]="groupLanguage.url" target="_blank">{{ groupLanguage.name }}</a>
              </ng-template>
              <ng-template #notYet>
                <span>{{ groupLanguage.name }}</span>
              </ng-template>
            </span>
          </li>
        </ol>
      
      </li>
    </ol>
  </ng-container>
</main>

<footer>
  Footer
</footer>

</div>